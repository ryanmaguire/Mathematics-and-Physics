%-----------------------------------LICENSE------------------------------------%
%   This file is part of Mathematics-and-Physics.                              %
%                                                                              %
%   Mathematics-and-Physics is free software: you can redistribute it and/or   %
%   modify it under the terms of the GNU General Public License as             %
%   published by the Free Software Foundation, either version 3 of the         %
%   License, or (at your option) any later version.                            %
%                                                                              %
%   Mathematics-and-Physics is distributed in the hope that it will be useful, %
%   but WITHOUT ANY WARRANTY; without even the implied warranty of             %
%   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              %
%   GNU General Public License for more details.                               %
%                                                                              %
%   You should have received a copy of the GNU General Public License along    %
%   with Mathematics-and-Physics.  If not, see <https://www.gnu.org/licenses/>.%
%------------------------------------------------------------------------------%
\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\newtheoremstyle{normal}
    {\topsep}   % Amount of space above the theorem.
    {\topsep}   % Amount of space below the theorem.
    {}          % Font used for body of theorem.
    {}          % Measure of space to indent.
    {\bfseries} % Font of the header of the theorem.
    {}          % Punctuation between head and body.
    {.5em}      % Space after theorem head.
    {}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}

\title{Derivative of Inverses}
\author{Ryan Maguire}
\date{\today}

% No indent and no paragraph skip.
\setlength{\parindent}{0em}
\setlength{\parskip}{0em}

\begin{document}
    \maketitle
    Inverting a real-valued function amounts to reflecting the graph across
    the line $y=x$. If $f:\mathbb{R}\rightarrow\mathbb{R}$ is differentiable
    and has an inverse $f^{-1}$, the interpretation of \textit{reflecting} $f$
    to obtain $f^{-1}$ leads us to believe that $f'$ and $(f^{-1})'$ may be
    related. It seems that $(f^{-1})'$ should somehow be given by the
    reciprocal of $f'$. This idea is very geometric, but can be made explicit
    with some of the rules of calculus.
    \begin{theorem}
        If $f:(a,\,b)\rightarrow(c,\,d)$ is a function that is differentiable
        at $x_{0}\in(a,\,b)$ with $f'(x_{0})\ne{0}$,
        and if $f^{-1}:(c,\,d)\rightarrow(a,\,b)$ is the
        inverse of $f$, and if $f^{-1}$ is differentiable at $f(x_{0})$, then:
        \begin{equation}
            (f^{-1})'\big(f(x_{0})\big)=\frac{1}{f'(x_{0})}
        \end{equation}
    \end{theorem}
    \begin{proof}
        Since $f^{-1}$ is the inverse of $f$ we have that
        $(f\circ{f}^{-1})(x)=x$ for all $x\in(a,\,b)$. Denoting
        $y_{0}=f(x_{0})$, by the chain rule we have:
        \begin{equation}
            (f\circ{f}^{-1})'(y_{0})
            =f'\big(f^{-1}(y_{0})\big)(f^{-1})'(y_{0})
        \end{equation}
        But $(f\circ{f}^{-1})(x)=x$, and hence the derivative is 1. That is:
        \begin{equation}
            f'\big(f^{-1}(y_{0}))(f^{-1})'(y_{0})=1
        \end{equation}
        Solving for $(f^{-1})'$ yields:
        \begin{equation}
            (f^{-1})'(y_{0})=\frac{1}{f'\big(f^{-1}(y_{0})\big)}
        \end{equation}
        Lastly we recall that we defined $y_{0}=f(x_{0})$. Substituting this
        back in gives us:
        \begin{equation}
            (f^{-1})'\big(f(x_{0})\big)=\frac{1}{f'(x_{0})}
        \end{equation}
        as desired.
    \end{proof}
    Let's find the derivative of $\ln(x)$. We know the inverse of this function
    is $\exp(x)$. By the previous theorem we get:
    \begin{align}
        \frac{\textrm{d}}{\textrm{d}\,x}\Big|_{x=x_{0}}\big(\ln(x)\big)
            &=\frac{1}{%
                \frac{\textrm{d}}{\textrm{d}\,x}
                \big|_{x=\ln(x_{0})}\big(\exp(x)\big)%
            }\\
            &=\frac{1}{\exp\big(\ln(x_{0})\big)}\\
            &=\frac{1}{x_{0}}
    \end{align}
    Let's try a few other functions. For $x>0$ the function
    $f(x)=x^{2}$ has it's inverse given by $g(x)=\sqrt{x}$. The derivative
    of the square root function can be computed from the derivative of $x^2$.
    We know that $f'(x)=2x$, and so we have:
    \begin{align}
        g'(x_{0})&=\frac{1}{f'\big(g(x_{0})\big)}\\
            &=\frac{1}{2g(x_{0})}\\
            &=\frac{1}{2\sqrt{x_{0}}}
    \end{align}
    the usual formula from the power rule.
    \par\hfill\par
    Lastly, let's try a trigonometric inverse. $\tan$ is defined on
    $(-\frac{\pi}{2},\,\frac{\pi}{2})$, the inverse $\arctan$ being defined on
    the entire real line. From the quotient rule we know:
    \begin{align}
        \tan'(x)
            &=\Big(\frac{\sin(x)}{\cos(x)}\Big)'\\
            &=\frac{\sin'(x)\cos(x)-\sin(x)\cos'(x)}{\cos^{2}(x)}\\
            &=\frac{\cos^{2}(x)+\sin^{2}(x)}{\cos^{2}(x)}\\
            &=\frac{1}{\cos^{2}(x)}\\
            &=\sec^{2}(x)
    \end{align}
    The derivative of $\arctan$ can be obtained from this. We get:
    \begin{align}
        \arctan'(x)
            &=\frac{1}{\tan'\big(\arctan(x)\big)}\\
            &=\frac{1}{\sec^{2}\big(\arctan(x)\big)}\\
            &=\cos^{2}\big(\arctan(x)\big)
    \end{align}
    $\arctan(x)$ tells us the angle made by the right triangle with
    vertical length $x$ and horizontal length $1$. The hypotenuse is then
    $\sqrt{1+x^{2}}$. $\cos$ yields the ratio of the horizontal to the
    hypotenuse, which is $1/\sqrt{1+x^{2}}$. The square of this is then
    $1/(1+x^{2})$. So we have:
    \begin{equation}
        \arctan'(x)=\frac{1}{1+x^{2}}
    \end{equation}
\end{document}
