%-----------------------------------LICENSE------------------------------------%
%   This file is part of Mathematics-and-Physics.                              %
%                                                                              %
%   Mathematics-and-Physics is free software: you can redistribute it and/or   %
%   modify it under the terms of the GNU General Public License as             %
%   published by the Free Software Foundation, either version 3 of the         %
%   License, or (at your option) any later version.                            %
%                                                                              %
%   Mathematics-and-Physics is distributed in the hope that it will be useful, %
%   but WITHOUT ANY WARRANTY; without even the implied warranty of             %
%   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              %
%   GNU General Public License for more details.                               %
%                                                                              %
%   You should have received a copy of the GNU General Public License along    %
%   with Mathematics-and-Physics.  If not, see <https://www.gnu.org/licenses/>.%
%------------------------------------------------------------------------------%
\documentclass{article}
\usepackage{graphicx}                           % Needed for figures.
\usepackage{amsmath}                            % Needed for align.
\usepackage{amssymb}                            % Needed for mathbb.
\usepackage{amsthm}                             % For the theorem environment.
\usepackage{float}

\newtheoremstyle{normal}
    {\topsep}               % Amount of space above the theorem.
    {\topsep}               % Amount of space below the theorem.
    {}                      % Font used for body of theorem.
    {}                      % Measure of space to indent.
    {\bfseries}             % Font of the header of the theorem.
    {}                      % Punctuation between head and body.
    {.5em}                  % Space after theorem head.
    {}

\theoremstyle{normal}
\newtheorem{definition}{Definition}
\newtheorem{notation}{Notation}
\newtheorem{example}{Example}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newcommand{\ceil}[2][]{#1\lceil#2#1\rceil}

\title{Second Fundamental Theorem of Calculus}
\author{Ryan Maguire}
\date{Fall 2021}

% No indent and no paragraph skip.
\setlength{\parindent}{0em}
\setlength{\parskip}{0em}

\begin{document}
    \maketitle
    The second fundamental theorem of calculus is (in my opinion) more
    pictorial than the first. Indeed, if you sit and think on what it is saying
    for a while you may convince yourself that the second fundamental theorem
    of calculus is \textit{obvious}. To convince you of this, I'll need some
    pictures. First, the statement:
    \begin{equation}
        \int_{a}^{b}\frac{\textrm{d}f}{\textrm{d}x}(x)\;\textrm{d}x=f(b)-f(a)
    \end{equation}
    If you prefer $f'$ notation, then:
    \begin{equation}
        \int_{a}^{b}f'(x)\;\textrm{d}x=f(b)-f(a)
    \end{equation}
    Let's examinine what this says by approximating it with Riemann sums and
    difference quotients. These equations are trying to validate the
    following approximation:
    \begin{equation}
        \sum_{n=0}^{N-1}\frac{f(x_{n}+h)-f(x_{n})}{h}\Delta{x}_{n}
            \approx{f}(b)-f(a)
    \end{equation}
    For the derivative, we want $h$ to be small. For the integral we want
    $\Delta{x}_{n}$ to be small. So, why don't we just make them
    \textit{equal}? Then, if one is small, the other one is too. This yields:
    \begin{equation}
        \sum_{n=0}^{N-1}\frac{f(x_{n}+\Delta{x}_{n})-f(x_{n})}{\Delta{x}_{n}}
            \Delta{x}_{n}
            =\sum_{n=0}^{N-1}\Big(f(x_{n}+\Delta{x}_{n})-f(x_{n})\Big)
    \end{equation}
    Before proceeding, let's see what this means, geometrically. We start at
    $a$. We then draw the tangent line of $f$ at $a$ and we walk along this
    tangent line $\Delta{x}$ to the right to get to our new point.
    \begin{figure}[H]
        \centering
        \includegraphics{../../images/fundamental_theorem_of_calculus_2_001.pdf}
        \caption{Approximation for Second Fundamental Theorem of Calculus}
    \end{figure}
    Pictorially, we start at $(a,f(a))$ in the plane. We walk along the
    tangent line $\Delta{x}$ and arrive at a new point
    $(a+\Delta{x},f(a)+f'(a)\Delta{x})$. We then compute the tangent line at
    $a+\Delta{x}$, walk along this line $\Delta{x}$ to the right, and arrive
    at our new point. The sum over $(\Delta{f}/\Delta{x})\Delta{x}$ asks
    \textit{what's our change in the $y$ axis?} As we see in the image, we end up
    \textit{nearly} at the point $(b, f(b))$ meaning our net change in the $y$
    axis is \textit{roughly} $f(b)-f(a)$. What if we make $\Delta{x}$ smaller?
    \begin{figure}[H]
        \centering
        \includegraphics{../../images/fundamental_theorem_of_calculus_2_002.pdf}
        \caption{Approximation for Second Fundamental Theorem of Calculus}
    \end{figure}
    With a smaller $\Delta{x}$ we see that, after our walk, we end up very close
    to $(b,f(b))$. The net change in the $y$ axis is even closer to
    $f(b)-f(a)$. And if we choose as really small $\Delta{x}$?
    \begin{figure}[H]
        \centering
        \includegraphics{../../images/fundamental_theorem_of_calculus_2_003.pdf}
        \caption{Approximation for Second Fundamental Theorem of Calculus}
    \end{figure}
    With a really small $\Delta{x}$, for all intent and purpose, we end up
    at $(b,f(b))$ after our walk. The change in the $y$ axis is almost
    identically $f(b)-f(a)$. The second fundamental theorem of calculus says
    that in the \textit{limit}, we get precisely $f(b)-f(a)$. This makes sense!
    Remember, the integral is just a \textit{glorified addition machine}. We
    are asking at each point what is the change in the $y$ axis with respect to
    a change in the $x$ axis? This is the derivative. We then sum over all of
    these changes. What do we get? We get the net change!
    \par\hfill\par
    Let's phrase this in terms of physics. If we integrate our velocity $v(t)$
    over a time interval $[t_{0},t_{1}]$, what do we get? That is, we add up
    the instantaneous velocity $v(t)$ over all points $t$, what do we get?
    We should get our displacement! If I sum the velocity over time, I get how
    far I moved. That's what the second fundamental theorem of calculus says.
    If $r(t)$ is our position, we have:
    \begin{equation}
        \int_{t_{0}}^{t_{1}}v(t)\;\textrm{d}t
            =\int_{t_{0}}^{t_{1}}r'(t)\;\textrm{d}t
            =r(t_{1})-r(t_{0})
    \end{equation}
    Let's now prove this. Given any partition $x_{n}$ of the interval $[a,b]$
    we have:
    \begin{align}
        f(b)-f(a)&=f(x_{N})-f(x_{0})\\
            &=f(x_{N})+0-f(x_{0})\\
            &=f(x_{N})+\sum_{n=1}^{N-1}\Big(-f(x_{n})+f(x_{n})\Big)-f(x_{0})\\
            &=\sum_{n=0}^{N-1}\Big(f(x_{n+1})-f(x_{n})\Big)\\
            &=\sum_{n=0}^{N-1}\frac{f(x_{n+1})-f(x_{n})}{x_{n+1}-x_{n}}
                \big(x_{n+1}-x_{n}\big)
    \end{align}
    By the mean value theorem, for each $n$ there is a point $c_{n}$ in the
    interval $(x_{n},x_{n+1})$ such that:
    \begin{equation}
        f'(c_{n})=\frac{f(x_{n+1})-f(x_{n})}{x_{n+1}-x_{n}}
    \end{equation}
    So, we have:
    \begin{equation}
        f(b)-f(a)=\sum_{n=0}^{N-1}f'(c_{n})(x_{n+1}-x_{n})
            =\sum_{n=0}^{N-1}f'(x_{n})\Delta{x}_{n}
    \end{equation}
    This is true regardless of the partition we choose. So, if we have finer
    and finer partitions and take a limit, we get:
    \begin{equation}
        f(b)-f(a)=\lim_{N\rightarrow\infty}
            \sum_{n=0}^{N-1}f'(c_{n})\Delta{x}_{n}
            =\int_{a}^{b}f'(x)\;\textrm{d}x
    \end{equation}
    Which completes the proof.
    \newpage
    I, the copyright holder of this work, release it into the public domain.
    This applies worldwide. In some countries this may not be legally possible;
    if so: I grant anyone the right to use this work for any purpose, without
    any conditions, unless such conditions are required by law.
    \par\hfill\par
    The source code used to generate this document is free software and released
    under version 3 of the GNU General Public License.
\end{document}