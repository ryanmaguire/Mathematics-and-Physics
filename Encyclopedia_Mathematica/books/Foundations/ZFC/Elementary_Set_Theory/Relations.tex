%------------------------------------------------------------------------------%
\section{Relations}
    \begin{fdefinition}{Relation on a Set}{Relation_on_a_Set}
        A \gls{relation} on a \gls{set} $A$ is a \gls{subset} $R$ of the
        \gls{Cartesian product} $A\times{A}$.
    \end{fdefinition}
    We use a special notation for relations on a set.
    \begin{fnotation}{Relation Notation}{Relation_Notation}
        If $A$ is a set, if $R$ is a relation on $A$, and if $(a,b)\in{R}$, we
        write $aRb$.
        \begin{equation*}
            \forall_{x}\forall_{y}\big(aRb\big)\Leftrightarrow
            \big((a,b)\in{R}\big)
        \end{equation*}
    \end{fnotation}
    For a relation $R$ it is not necessary true that $aRb$
    implies $bRa$, nor is it necessarily true that $aRa$. These
    are called symmetric and reflexive relations, respectively.
    There are many basic properties that relations have, and we
    prove them now.
    \begin{theorem}
        \label{thm:Cartesian_Product_Is_Relation}%
        If $A$ is a set, then $A\times{A}$ is a relation on $A$.
    \end{theorem}
    \begin{proof}
        For if $A$ is a set, then
        $A\times{A}\subseteq{A}\times{A}$. Therefore, etc.
    \end{proof}
    \begin{theorem}
        \label{thm:Empty_Set_Is_Relation}%
        If $A$ is a set, and then $\emptyset$ is a relation
        on $A$.
    \end{theorem}
    \begin{proof}
        For if $A$ is a set, then
        $\emptyset\subseteq{A}\times{A}$. Therefore, etc.
    \end{proof}
    \begin{theorem}
        Set inclusion $\subseteq$ is a relation. Proper set inclusion
        $\subsetneq$ is a relation. These define partial orderings.
    \end{theorem}
    \begin{fdefinition}{Domain of a Relation}{Domain_of_a_Relation}
        The \gls{domain (relation)} of a \gls{relation} $R$ on a \gls{set} $A$
        is the set:
        \begin{equation*}
            \textrm{dom}(R)=\big\{a\in{A}\;|\;\exists{b}\in{A}
                \textrm{ such that }aRb\big\}
        \end{equation*}
    \end{fdefinition}
    \begin{fdefinition}{Range of a Relation}{Range_of_a_Relation}
        The \gls{range (relation)} of a \gls{relation} $R$ on a \gls{set} $A$ is
        the set:
        \begin{equation*}
            \textrm{ran}(R)=\big\{b\in{A}\;|\;\exists{a}\in{A}
                \textrm{ such that }aRb\big\}
        \end{equation*}
    \end{fdefinition}
    \begin{fdefinition}{Field of a Relation}{Field_of_a_Relation}
        The \gls{field (relation)} of a \gls{relation} $R$ on a set $A$ is the
        set:
        \begin{equation*}
            \textrm{field}(R)=\textrm{dom}(R)\cup\textrm{ran}(R)
        \end{equation*}
        Where $\textrm{dom}(R)$ is the \gls{domain (relation)} of $R$ and
        $\textrm{ran}(R)$ is the \gls{range (relation)} of $R$.
    \end{fdefinition}
    These provide the two most basic examples of relations on a
    set. The empty set is the relation that says no two elements
    are related. Indeed, even single elements are unrelated to
    themselves. The second, the entire Cartesian product
    $A\times{A}$, says that everything is related. These are the
    two extreme cases, but provide useful examples and
    counterexamples in various contexts. More useful is that the
    union and intersection of relations is also a relation. We
    prove this now.
    \begin{theorem}
        \label{thm:Intersection_of_Relations_Is_Relation}%
        If $A$ is a set and if $R_{1}$ and $R_{2}$ are relations
        on $A$, then $R_{1}\cap{R}_{2}$ is a relation on $A$.
    \end{theorem}
    \begin{proof}
        For let $R=R_{1}\cap{R}_{2}$ and suppose $R$ is not a
        relation on $A$. Then there is an $x\in{R}$ such that
        $x\notin{A}\times{A}$. But if $x\in{R}$ then
        $x\in{R}_{1}$ and $x\in{R}_{2}$. But for all
        $x\in{R}_{1}$, $x\in{A}\times{A}$, since $R_{1}$ is a
        relation on $A$, a contradiction as
        $x\notin{A}\times{A}$. Therefore, $R$ is a relation on
        $A$.
    \end{proof}
    \begin{theorem}
        \label{thm:Set_Theory_Union_of_Relations_Is_Relation}
        If $A$ is a set and if $R_{1}$ and $R_{2}$ are relations
        on $A$, then $R_{1}\cup{R}_{2}$ is a relation on $A$.
    \end{theorem}
    \begin{proof}
        For let $R=R_{1}\cup{R}_{2}$ and suppose $R$ is not a
        relation on $A$. Then there is an $x\in{R}$ such that
        $x\notin{A}\times{A}$. But if $x\in{R}$ then
        $x\in{R}_{1}$ or $x\in{R}_{2}$. But for all $x\in{R}_{1}$
        and for all $x\in{R}_{2}$,
        $x\in{A}\times{A}$, since $R_{1}$ and $R_{2}$ are
        relations on $A$, a contradiction. Therefore, etc.
    \end{proof}
    \begin{theorem}
        If $A$ is a set and $R$ is a relation on $A$, then there
        is a relation $\mathcal{U}$ on $A$ such that
        $R\cap\mathcal{U}=R$.
    \end{theorem}
    \begin{proof}
        For let $\mathcal{U}={A}\times{A}$. Then by
        Thm.~\ref{thm:Cartesian_Product_Is_Relation}, $A\times{A}$ is
        a relation on $A$. But since $R$ is a relation,
        $R\subseteq{A}\times{A}$. But then
        $R\cap\mathcal{U}=R$. Therefore, etc.
    \end{proof}
    \begin{theorem}
        If $A$ is a set and $R$ is a relation on $A$, then there
        is a relation $\mathcal{U}$ on $A$ such that
        $R\cup\mathcal{U}=R$
    \end{theorem}
    \begin{proof}
        For let $\mathcal{U}=\emptyset$. Then by
        Thm.~\ref{thm:Empty_Set_Is_Relation},
        $\mathcal{U}$ is a relation. But if $R$ is a set, then
        $R\cup\emptyset=R$. Thus, $R\cup\mathcal{U}=R$.
        Therefore, etc.
    \end{proof}
    Since a general relation is simply a subset of $A\times{A}$,
    there's not much structure on them, and thus there's not a lot
    that can be said about them. We can add more constraints to
    certain relations to get the more familiar properties
    we're used to.
    \begin{fdefinition}{Reflexive Relations}{Reflexive_Relations}
        A reflexive relation on a set $A$ is a
        relation $R$ on $A$ such that for all $a\in{A}$
        it is true that $aRa$.
    \end{fdefinition}
    A reflexive relation on $A$ is simply any subset of
    $A\times{A}$ that contains the entire \textit{diagonal}. That,
    all of the pairs $(a,a)$. A reflexive relation can contain more
    than this, however. The only strict requirement is that
    $aRa$ for all $a\in{A}$.
    \begin{theorem}
        If $A$ is a set, and if $R_{1}$ and $R_{2}$ are reflexive
        relations on $A$, then $R_{1}\cap{R}_{2}$ is a reflexive
        relation on $A$.
    \end{theorem}
    \begin{proof}
        For let $R=R_{1}\cap{R}_{2}$. Then by
        Thm.~\ref{thm:Intersection_of_Relations_Is_Relation}, $R$ is a relation.
        Suppose $R$ is not reflexive.
        Then there is an $a\in{A}$ such that $(a,a)\notin{R}$. But
        if $a\in{A}$, then $(a,a)\in{R}_{1}$, since $R_{1}$ is
        reflexive. Similarly, $(a,a)\in{R}_{2}$ since $R_{2}$ is
        reflexive. But if $(a,a)\in{R}_{1}$ and $(a,a)\in{R}_{2}$,
        then $(a,a)\in{R}$ since $R=R_{1}\cap{R}_{2}$, a
        contradiction. Therefore, $R$ is reflexive.
    \end{proof}
    \begin{theorem}
        If $A$ is a set, if $R_{1}$ is a reflexive relation on
        $A$, and if $R_{2}$ is a relation on $A$, then
        $R_{1}\cup{R}_{2}$ is a reflexive relation on $A$.
    \end{theorem}
    \begin{proof}
        For let $R=R_{1}\cup{R}_{2}$. Since $R_{1}$ and $R_{2}$ are
        relations, by
        Thm.~\ref{thm:Set_Theory_Union_of_Relations_Is_Relation},
        $R$ is a relation. Suppose it is not reflexive.
        Then there is an $a\in{A}$ such that
        $(a,a)\notin{R}$. But if $a\in{A}$ then $(a,a)\in{R}_{1}$
        since $R_{1}$ is reflexive. But if $(a,a)\in{R}_{1}$ then
        $(a,a)\in{R}_{1}\cup{R}_{2}$, a contradiction.
        Therefore, etc.
    \end{proof}
    Given an arbitrary relation $R$ on a set $A$, it may not be
    true that $R$ is reflexive. It may often be useful to add in
    only the necessary points of $A$ that will make $R$
    reflexive. This is called the reflexive closure of $R$.
    \begin{fdefinition}{Reflexive Closure of a Relation}
                       {Reflexive_Closure_of_Relation}
        The reflexive closure of a relation $R$ on a set $A$
        is the set:
        \begin{equation}
            S=R\cup\{(a,a):a\in{A}\}
        \end{equation}
    \end{fdefinition}
    \begin{theorem}
        If $A$ is a set, $R$ is a relation on $A$, and if $S$ is the
        reflexive closure of $R$, then $S$ is a reflexive relation on $A$.
    \end{theorem}
    \begin{theorem}
        \label{thm:Set_Theory_Refl_Clos_Is_Smallest_Refl_With_R}
        If $A$ is a set, if $R$ is a relation on $A$, if
        $S$ is the reflexive closure of $R$, and if $T$ is a
        reflexive relation on $A$ such that $R\subseteq{T}$, then
        $S\subseteq{T}$.
    \end{theorem}
    \begin{proof}
        For if $x\in{S}$, then either $x\in{R}$ or there is an
        $a\in{A}$ such that $x=(a,a)$. But if $x\in{R}$, then
        $x\in{T}$ since $R\subseteq{T}$. If $x\notin{R}$ then
        there is an $a\in{A}$ such that $x=(a,a)$. But $T$ is
        reflexive, and therefore $(a,a)\in{T}$. But then
        $x\in{T}$. Therefore, $S\subseteq{T}$.
    \end{proof}
    Thm.~\ref{thm:Set_Theory_Refl_Clos_Is_Smallest_Refl_With_R}
    says that the reflexive closure of a relation $R$ is, in a sense,
    the \textit{smallest} relation that is reflexive and contains
    $R$ as a subset.
    \begin{theorem}
        If $A$ is a set, $R_{1}$ and $R_{2}$ are relations on $A$,
        and if $S_{1}$ and $S_{2}$ are the reflexive closures of
        $R_{1}$ and $R_{2}$, respectively, then the reflexive closure
        of $R_{1}\cap{R}_{2}$ is:
        \begin{equation}
            S=S_{1}\cap{S}_{2}
        \end{equation}
    \end{theorem}
    \begin{proof}
        By the definition of reflexive closure, we have:
        \begin{align}
            S_{1}&=R_{1}\cup\{(a,a):a\in{A}\}
            \tag{Def.~\ref{def:Reflexive_Closure_of_Relation}}\\
            S_{1}&=R_{2}\cup\{(a,a):a\in{A}\}
            \tag{Def.~\ref{def:Reflexive_Closure_of_Relation}}\\
            \nonumber
            S_{1}\cap{S}_{2}&=
            (R_{1}\cup\{(a,a):a\in{A}\})
            \cap(R_{2}\cup\{(a,a):a\in{A}\})\\
            &=(R_{1}\cap{R}_{2})
            \cup\{(a,a):a\in{A}\}
            \tag{Distributive Law}
        \end{align}
        But by the definition of the transitive closure of
        $R_{1}\cap{R}_{2}$:
        \begin{equation}
            S=(R_{1}\cap{R}_{2})\cup\{(a,a):a\in{A}\}
            \tag{Def.~\ref{def:Reflexive_Closure_of_Relation}}
        \end{equation}
        Therefore, etc.
    \end{proof}
    \begin{fdefinition}{Symmetric Relations}{Symmetric_Relations}
        A symmetric relation on a set $A$ is a
        relation $R$ on $A$ such that for all $a,b\in{A}$
        such that $aRb$, it is true that $bRa$.
    \end{fdefinition}
    \begin{fdefinition}{Transitive Relation}{Transitive_Relations}
        A transitive relation on a set $A$ is a relation $R$ on $A$
        such that for all $a,b,c\in{A}$ such that $aRb$ and $bRc$,
        is it true that $aRc$.
    \end{fdefinition}
    \begin{fdefinition}{Transitive Closure}{Transitive_Closure}
        The transitive closure of a relation $R$ on a set
        $A$ is the the set $R^{t}\subseteq{A}\times{A}$ defined by:
        \begin{equation}
            R^{t}
        \end{equation}
    \end{fdefinition}
    \begin{fdefinition}{Asymmetric Relation}{Assymetric_Relation}
        An asymmetric relation on a set $A$ is a relation $R$
        on $A$ such that for all $a,b\in{A}$ such that $aRb$
        it is true that $(b,a)\notin{R}$.
    \end{fdefinition}
    \begin{fdefinition}{Total Relation}{Total_Relation}
        A total relation on a set $A$ is a relation $R$ on $A$ such
        that for all $a,b\in{A}$ it is true that either
        $aRb$ or $bRa$, or both.
    \end{fdefinition}
    The notion of equality can be defined as a relation
    with the following properties:
    \begin{enumerate}
        \item Equality is Reflexive: $a=a$ for all $a\in{A}$.
        \item Equality is Symmetric: $a=b$ if and only if $b=a$.
        \item Equality is Transitive: If $a=b$ and $b=c$, then $a=c$.
        \item The relation is uniquely defined by the set
              $\{(a,a)\in A\times A:a\in A\}$.
    \end{enumerate}
    That is, equality can be seen as the \textit{diagonal} in the
    Cartesian product $A\times{A}$.
    \begin{fdefinition}{Antisymmetric Relation}
        An antisymmetric relation on a set $A$ is a relation $R$ on $A$
        such that for all $a,b\in{A}$ such that $aRb$ and $bRa$, it
        is true that $a=b$.
    \end{fdefinition}